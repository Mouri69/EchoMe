{"ast":null,"code":"// Personality Engine\n// Generates responses that adapt to the user's language patterns\n\nexport class PersonalityEngine {\n  constructor() {\n    this.baseResponses = [\"Hello! How are you today?\", \"That's interesting. Tell me more.\", \"I see what you mean.\", \"Thanks for sharing that with me.\", \"What's on your mind?\", \"That sounds like quite a situation.\", \"I'm here to listen.\", \"How does that make you feel?\", \"That's a good point.\", \"I understand what you're saying.\"];\n    this.casualResponses = [\"yo what's up\", \"that's wild fr\", \"bruh moment\", \"no cap that's crazy\", \"slay\", \"periodt\", \"bussin fr fr\", \"yeet\", \"omg same\", \"literally me\"];\n    this.emotionalResponses = [\"aww that's so sweet! ðŸ˜Š\", \"omg that's amazing! âœ¨\", \"that's rough buddy ðŸ˜”\", \"yasss queen! ðŸ‘‘\", \"nooo that's terrible! ðŸ˜­\", \"slay bestie! ðŸ’…\", \"periodt! ðŸ’¯\", \"literally crying rn ðŸ˜¢\", \"manifesting this for you! ðŸŒŸ\", \"vibes are immaculate! âœ¨\"];\n  }\n\n  // Generate a response based on user's personality\n  generateResponse(personality, userMessage) {\n    const {\n      messageCount,\n      isCasual,\n      isFormal,\n      topWords,\n      topEmojis,\n      slangWords,\n      formalityScore\n    } = personality;\n\n    // Early responses are more generic\n    if (messageCount < 3) {\n      return this.getGenericResponse();\n    }\n\n    // Calculate adaptation level (0-100)\n    const adaptationLevel = Math.min(100, messageCount * 10);\n\n    // Choose response style based on user's formality\n    let response = '';\n    if (isCasual && adaptationLevel > 30) {\n      response = this.getCasualResponse(personality);\n    } else if (isFormal) {\n      response = this.getFormalResponse(personality);\n    } else {\n      response = this.getMixedResponse(personality);\n    }\n\n    // Add user's favorite words if adaptation is high enough\n    if (adaptationLevel > 50 && topWords.length > 0) {\n      response = this.injectUserWords(response, topWords);\n    }\n\n    // Add user's emojis if they use them\n    if (adaptationLevel > 40 && topEmojis.length > 0) {\n      response = this.injectUserEmojis(response, topEmojis);\n    }\n\n    // Add user's slang if they use it\n    if (adaptationLevel > 60 && slangWords.length > 0) {\n      response = this.injectUserSlang(response, slangWords);\n    }\n\n    // Mirror user's punctuation style\n    response = this.mirrorPunctuation(response, personality);\n    return response;\n  }\n  getGenericResponse() {\n    return this.baseResponses[Math.floor(Math.random() * this.baseResponses.length)];\n  }\n  getCasualResponse(personality) {\n    const {\n      topWords,\n      slangWords\n    } = personality;\n    let response = this.casualResponses[Math.floor(Math.random() * this.casualResponses.length)];\n\n    // Add some user's words if available\n    if (topWords.length > 0) {\n      const userWord = topWords[0].word;\n      if (Math.random() > 0.5) {\n        response = `${userWord} ${response}`;\n      }\n    }\n    return response;\n  }\n  getFormalResponse(personality) {\n    const {\n      topWords\n    } = personality;\n    let response = this.baseResponses[Math.floor(Math.random() * this.baseResponses.length)];\n\n    // Make it more formal\n    response = response.replace(/!/g, '.');\n    response = response.replace(/\\.\\.\\./g, '.');\n    return response;\n  }\n  getMixedResponse(personality) {\n    const responses = [...this.baseResponses, ...this.casualResponses];\n    return responses[Math.floor(Math.random() * responses.length)];\n  }\n  injectUserWords(response, topWords) {\n    if (topWords.length === 0) return response;\n    const userWord = topWords[Math.floor(Math.random() * Math.min(3, topWords.length))].word;\n\n    // 30% chance to inject a user word\n    if (Math.random() < 0.3) {\n      const words = response.split(' ');\n      const insertIndex = Math.floor(Math.random() * words.length);\n      words.splice(insertIndex, 0, userWord);\n      return words.join(' ');\n    }\n    return response;\n  }\n  injectUserEmojis(response, topEmojis) {\n    if (topEmojis.length === 0) return response;\n    const userEmoji = topEmojis[Math.floor(Math.random() * topEmojis.length)].emoji;\n\n    // 40% chance to add user's emoji\n    if (Math.random() < 0.4) {\n      return `${response} ${userEmoji}`;\n    }\n    return response;\n  }\n  injectUserSlang(response, slangWords) {\n    if (slangWords.length === 0) return response;\n    const userSlang = slangWords[Math.floor(Math.random() * slangWords.length)];\n\n    // 25% chance to add user's slang\n    if (Math.random() < 0.25) {\n      return `${response} ${userSlang}`;\n    }\n    return response;\n  }\n  mirrorPunctuation(response, personality) {\n    const {\n      topPunctuation\n    } = personality;\n    if (topPunctuation.length === 0) return response;\n    const userPunct = topPunctuation[0].punctuation;\n\n    // Mirror user's most common punctuation\n    if (userPunct === '!' && !response.includes('!')) {\n      response = response.replace(/\\.$/, '!');\n    } else if (userPunct === '...' && !response.includes('...')) {\n      response = response.replace(/\\.$/, '...');\n    }\n    return response;\n  }\n\n  // Generate a \"roast\" response (chaotic mode)\n  generateRoastResponse(personality) {\n    const roasts = [\"bruh you really said that with your whole chest ðŸ’€\", \"the audacity is astronomical rn\", \"i can't with you sometimes fr\", \"you're really living in your own world huh\", \"the way you think you're making sense...\", \"i'm wheezing at this point\", \"you're something else entirely\", \"the confidence is unmatched\", \"i'm literally speechless\", \"you really thought you did something there\"];\n    let roast = roasts[Math.floor(Math.random() * roasts.length)];\n\n    // Add user's emojis to the roast\n    if (personality.topEmojis.length > 0) {\n      const userEmoji = personality.topEmojis[0].emoji;\n      roast = `${roast} ${userEmoji}`;\n    }\n    return roast;\n  }\n\n  // Generate a night mode response (calmer)\n  generateNightResponse(personality) {\n    const nightResponses = [\"that's peaceful...\", \"quiet thoughts for a quiet night\", \"rest well, friend\", \"the night brings clarity\", \"gentle vibes only\", \"soft energy tonight\", \"peaceful moments\", \"calm waters\", \"serene thoughts\", \"gentle night\"];\n    return nightResponses[Math.floor(Math.random() * nightResponses.length)];\n  }\n}","map":{"version":3,"names":["PersonalityEngine","constructor","baseResponses","casualResponses","emotionalResponses","generateResponse","personality","userMessage","messageCount","isCasual","isFormal","topWords","topEmojis","slangWords","formalityScore","getGenericResponse","adaptationLevel","Math","min","response","getCasualResponse","getFormalResponse","getMixedResponse","length","injectUserWords","injectUserEmojis","injectUserSlang","mirrorPunctuation","floor","random","userWord","word","replace","responses","words","split","insertIndex","splice","join","userEmoji","emoji","userSlang","topPunctuation","userPunct","punctuation","includes","generateRoastResponse","roasts","roast","generateNightResponse","nightResponses"],"sources":["E:/Websites/EchoMe/src/utils/personalityEngine.js"],"sourcesContent":["// Personality Engine\r\n// Generates responses that adapt to the user's language patterns\r\n\r\nexport class PersonalityEngine {\r\n  constructor() {\r\n    this.baseResponses = [\r\n      \"Hello! How are you today?\",\r\n      \"That's interesting. Tell me more.\",\r\n      \"I see what you mean.\",\r\n      \"Thanks for sharing that with me.\",\r\n      \"What's on your mind?\",\r\n      \"That sounds like quite a situation.\",\r\n      \"I'm here to listen.\",\r\n      \"How does that make you feel?\",\r\n      \"That's a good point.\",\r\n      \"I understand what you're saying.\"\r\n    ];\r\n    \r\n    this.casualResponses = [\r\n      \"yo what's up\",\r\n      \"that's wild fr\",\r\n      \"bruh moment\",\r\n      \"no cap that's crazy\",\r\n      \"slay\",\r\n      \"periodt\",\r\n      \"bussin fr fr\",\r\n      \"yeet\",\r\n      \"omg same\",\r\n      \"literally me\"\r\n    ];\r\n    \r\n    this.emotionalResponses = [\r\n      \"aww that's so sweet! ðŸ˜Š\",\r\n      \"omg that's amazing! âœ¨\",\r\n      \"that's rough buddy ðŸ˜”\",\r\n      \"yasss queen! ðŸ‘‘\",\r\n      \"nooo that's terrible! ðŸ˜­\",\r\n      \"slay bestie! ðŸ’…\",\r\n      \"periodt! ðŸ’¯\",\r\n      \"literally crying rn ðŸ˜¢\",\r\n      \"manifesting this for you! ðŸŒŸ\",\r\n      \"vibes are immaculate! âœ¨\"\r\n    ];\r\n  }\r\n\r\n  // Generate a response based on user's personality\r\n  generateResponse(personality, userMessage) {\r\n    const { messageCount, isCasual, isFormal, topWords, topEmojis, slangWords, formalityScore } = personality;\r\n    \r\n    // Early responses are more generic\r\n    if (messageCount < 3) {\r\n      return this.getGenericResponse();\r\n    }\r\n\r\n    // Calculate adaptation level (0-100)\r\n    const adaptationLevel = Math.min(100, messageCount * 10);\r\n    \r\n    // Choose response style based on user's formality\r\n    let response = '';\r\n    \r\n    if (isCasual && adaptationLevel > 30) {\r\n      response = this.getCasualResponse(personality);\r\n    } else if (isFormal) {\r\n      response = this.getFormalResponse(personality);\r\n    } else {\r\n      response = this.getMixedResponse(personality);\r\n    }\r\n\r\n    // Add user's favorite words if adaptation is high enough\r\n    if (adaptationLevel > 50 && topWords.length > 0) {\r\n      response = this.injectUserWords(response, topWords);\r\n    }\r\n\r\n    // Add user's emojis if they use them\r\n    if (adaptationLevel > 40 && topEmojis.length > 0) {\r\n      response = this.injectUserEmojis(response, topEmojis);\r\n    }\r\n\r\n    // Add user's slang if they use it\r\n    if (adaptationLevel > 60 && slangWords.length > 0) {\r\n      response = this.injectUserSlang(response, slangWords);\r\n    }\r\n\r\n    // Mirror user's punctuation style\r\n    response = this.mirrorPunctuation(response, personality);\r\n\r\n    return response;\r\n  }\r\n\r\n  getGenericResponse() {\r\n    return this.baseResponses[Math.floor(Math.random() * this.baseResponses.length)];\r\n  }\r\n\r\n  getCasualResponse(personality) {\r\n    const { topWords, slangWords } = personality;\r\n    \r\n    let response = this.casualResponses[Math.floor(Math.random() * this.casualResponses.length)];\r\n    \r\n    // Add some user's words if available\r\n    if (topWords.length > 0) {\r\n      const userWord = topWords[0].word;\r\n      if (Math.random() > 0.5) {\r\n        response = `${userWord} ${response}`;\r\n      }\r\n    }\r\n\r\n    return response;\r\n  }\r\n\r\n  getFormalResponse(personality) {\r\n    const { topWords } = personality;\r\n    \r\n    let response = this.baseResponses[Math.floor(Math.random() * this.baseResponses.length)];\r\n    \r\n    // Make it more formal\r\n    response = response.replace(/!/g, '.');\r\n    response = response.replace(/\\.\\.\\./g, '.');\r\n    \r\n    return response;\r\n  }\r\n\r\n  getMixedResponse(personality) {\r\n    const responses = [...this.baseResponses, ...this.casualResponses];\r\n    return responses[Math.floor(Math.random() * responses.length)];\r\n  }\r\n\r\n  injectUserWords(response, topWords) {\r\n    if (topWords.length === 0) return response;\r\n    \r\n    const userWord = topWords[Math.floor(Math.random() * Math.min(3, topWords.length))].word;\r\n    \r\n    // 30% chance to inject a user word\r\n    if (Math.random() < 0.3) {\r\n      const words = response.split(' ');\r\n      const insertIndex = Math.floor(Math.random() * words.length);\r\n      words.splice(insertIndex, 0, userWord);\r\n      return words.join(' ');\r\n    }\r\n    \r\n    return response;\r\n  }\r\n\r\n  injectUserEmojis(response, topEmojis) {\r\n    if (topEmojis.length === 0) return response;\r\n    \r\n    const userEmoji = topEmojis[Math.floor(Math.random() * topEmojis.length)].emoji;\r\n    \r\n    // 40% chance to add user's emoji\r\n    if (Math.random() < 0.4) {\r\n      return `${response} ${userEmoji}`;\r\n    }\r\n    \r\n    return response;\r\n  }\r\n\r\n  injectUserSlang(response, slangWords) {\r\n    if (slangWords.length === 0) return response;\r\n    \r\n    const userSlang = slangWords[Math.floor(Math.random() * slangWords.length)];\r\n    \r\n    // 25% chance to add user's slang\r\n    if (Math.random() < 0.25) {\r\n      return `${response} ${userSlang}`;\r\n    }\r\n    \r\n    return response;\r\n  }\r\n\r\n  mirrorPunctuation(response, personality) {\r\n    const { topPunctuation } = personality;\r\n    \r\n    if (topPunctuation.length === 0) return response;\r\n    \r\n    const userPunct = topPunctuation[0].punctuation;\r\n    \r\n    // Mirror user's most common punctuation\r\n    if (userPunct === '!' && !response.includes('!')) {\r\n      response = response.replace(/\\.$/, '!');\r\n    } else if (userPunct === '...' && !response.includes('...')) {\r\n      response = response.replace(/\\.$/, '...');\r\n    }\r\n    \r\n    return response;\r\n  }\r\n\r\n  // Generate a \"roast\" response (chaotic mode)\r\n  generateRoastResponse(personality) {\r\n    const roasts = [\r\n      \"bruh you really said that with your whole chest ðŸ’€\",\r\n      \"the audacity is astronomical rn\",\r\n      \"i can't with you sometimes fr\",\r\n      \"you're really living in your own world huh\",\r\n      \"the way you think you're making sense...\",\r\n      \"i'm wheezing at this point\",\r\n      \"you're something else entirely\",\r\n      \"the confidence is unmatched\",\r\n      \"i'm literally speechless\",\r\n      \"you really thought you did something there\"\r\n    ];\r\n    \r\n    let roast = roasts[Math.floor(Math.random() * roasts.length)];\r\n    \r\n    // Add user's emojis to the roast\r\n    if (personality.topEmojis.length > 0) {\r\n      const userEmoji = personality.topEmojis[0].emoji;\r\n      roast = `${roast} ${userEmoji}`;\r\n    }\r\n    \r\n    return roast;\r\n  }\r\n\r\n  // Generate a night mode response (calmer)\r\n  generateNightResponse(personality) {\r\n    const nightResponses = [\r\n      \"that's peaceful...\",\r\n      \"quiet thoughts for a quiet night\",\r\n      \"rest well, friend\",\r\n      \"the night brings clarity\",\r\n      \"gentle vibes only\",\r\n      \"soft energy tonight\",\r\n      \"peaceful moments\",\r\n      \"calm waters\",\r\n      \"serene thoughts\",\r\n      \"gentle night\"\r\n    ];\r\n    \r\n    return nightResponses[Math.floor(Math.random() * nightResponses.length)];\r\n  }\r\n} "],"mappings":"AAAA;AACA;;AAEA,OAAO,MAAMA,iBAAiB,CAAC;EAC7BC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,aAAa,GAAG,CACnB,2BAA2B,EAC3B,mCAAmC,EACnC,sBAAsB,EACtB,kCAAkC,EAClC,sBAAsB,EACtB,qCAAqC,EACrC,qBAAqB,EACrB,8BAA8B,EAC9B,sBAAsB,EACtB,kCAAkC,CACnC;IAED,IAAI,CAACC,eAAe,GAAG,CACrB,cAAc,EACd,gBAAgB,EAChB,aAAa,EACb,qBAAqB,EACrB,MAAM,EACN,SAAS,EACT,cAAc,EACd,MAAM,EACN,UAAU,EACV,cAAc,CACf;IAED,IAAI,CAACC,kBAAkB,GAAG,CACxB,yBAAyB,EACzB,uBAAuB,EACvB,uBAAuB,EACvB,iBAAiB,EACjB,0BAA0B,EAC1B,iBAAiB,EACjB,aAAa,EACb,wBAAwB,EACxB,8BAA8B,EAC9B,yBAAyB,CAC1B;EACH;;EAEA;EACAC,gBAAgBA,CAACC,WAAW,EAAEC,WAAW,EAAE;IACzC,MAAM;MAAEC,YAAY;MAAEC,QAAQ;MAAEC,QAAQ;MAAEC,QAAQ;MAAEC,SAAS;MAAEC,UAAU;MAAEC;IAAe,CAAC,GAAGR,WAAW;;IAEzG;IACA,IAAIE,YAAY,GAAG,CAAC,EAAE;MACpB,OAAO,IAAI,CAACO,kBAAkB,CAAC,CAAC;IAClC;;IAEA;IACA,MAAMC,eAAe,GAAGC,IAAI,CAACC,GAAG,CAAC,GAAG,EAAEV,YAAY,GAAG,EAAE,CAAC;;IAExD;IACA,IAAIW,QAAQ,GAAG,EAAE;IAEjB,IAAIV,QAAQ,IAAIO,eAAe,GAAG,EAAE,EAAE;MACpCG,QAAQ,GAAG,IAAI,CAACC,iBAAiB,CAACd,WAAW,CAAC;IAChD,CAAC,MAAM,IAAII,QAAQ,EAAE;MACnBS,QAAQ,GAAG,IAAI,CAACE,iBAAiB,CAACf,WAAW,CAAC;IAChD,CAAC,MAAM;MACLa,QAAQ,GAAG,IAAI,CAACG,gBAAgB,CAAChB,WAAW,CAAC;IAC/C;;IAEA;IACA,IAAIU,eAAe,GAAG,EAAE,IAAIL,QAAQ,CAACY,MAAM,GAAG,CAAC,EAAE;MAC/CJ,QAAQ,GAAG,IAAI,CAACK,eAAe,CAACL,QAAQ,EAAER,QAAQ,CAAC;IACrD;;IAEA;IACA,IAAIK,eAAe,GAAG,EAAE,IAAIJ,SAAS,CAACW,MAAM,GAAG,CAAC,EAAE;MAChDJ,QAAQ,GAAG,IAAI,CAACM,gBAAgB,CAACN,QAAQ,EAAEP,SAAS,CAAC;IACvD;;IAEA;IACA,IAAII,eAAe,GAAG,EAAE,IAAIH,UAAU,CAACU,MAAM,GAAG,CAAC,EAAE;MACjDJ,QAAQ,GAAG,IAAI,CAACO,eAAe,CAACP,QAAQ,EAAEN,UAAU,CAAC;IACvD;;IAEA;IACAM,QAAQ,GAAG,IAAI,CAACQ,iBAAiB,CAACR,QAAQ,EAAEb,WAAW,CAAC;IAExD,OAAOa,QAAQ;EACjB;EAEAJ,kBAAkBA,CAAA,EAAG;IACnB,OAAO,IAAI,CAACb,aAAa,CAACe,IAAI,CAACW,KAAK,CAACX,IAAI,CAACY,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC3B,aAAa,CAACqB,MAAM,CAAC,CAAC;EAClF;EAEAH,iBAAiBA,CAACd,WAAW,EAAE;IAC7B,MAAM;MAAEK,QAAQ;MAAEE;IAAW,CAAC,GAAGP,WAAW;IAE5C,IAAIa,QAAQ,GAAG,IAAI,CAAChB,eAAe,CAACc,IAAI,CAACW,KAAK,CAACX,IAAI,CAACY,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC1B,eAAe,CAACoB,MAAM,CAAC,CAAC;;IAE5F;IACA,IAAIZ,QAAQ,CAACY,MAAM,GAAG,CAAC,EAAE;MACvB,MAAMO,QAAQ,GAAGnB,QAAQ,CAAC,CAAC,CAAC,CAACoB,IAAI;MACjC,IAAId,IAAI,CAACY,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE;QACvBV,QAAQ,GAAG,GAAGW,QAAQ,IAAIX,QAAQ,EAAE;MACtC;IACF;IAEA,OAAOA,QAAQ;EACjB;EAEAE,iBAAiBA,CAACf,WAAW,EAAE;IAC7B,MAAM;MAAEK;IAAS,CAAC,GAAGL,WAAW;IAEhC,IAAIa,QAAQ,GAAG,IAAI,CAACjB,aAAa,CAACe,IAAI,CAACW,KAAK,CAACX,IAAI,CAACY,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC3B,aAAa,CAACqB,MAAM,CAAC,CAAC;;IAExF;IACAJ,QAAQ,GAAGA,QAAQ,CAACa,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;IACtCb,QAAQ,GAAGA,QAAQ,CAACa,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC;IAE3C,OAAOb,QAAQ;EACjB;EAEAG,gBAAgBA,CAAChB,WAAW,EAAE;IAC5B,MAAM2B,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC/B,aAAa,EAAE,GAAG,IAAI,CAACC,eAAe,CAAC;IAClE,OAAO8B,SAAS,CAAChB,IAAI,CAACW,KAAK,CAACX,IAAI,CAACY,MAAM,CAAC,CAAC,GAAGI,SAAS,CAACV,MAAM,CAAC,CAAC;EAChE;EAEAC,eAAeA,CAACL,QAAQ,EAAER,QAAQ,EAAE;IAClC,IAAIA,QAAQ,CAACY,MAAM,KAAK,CAAC,EAAE,OAAOJ,QAAQ;IAE1C,MAAMW,QAAQ,GAAGnB,QAAQ,CAACM,IAAI,CAACW,KAAK,CAACX,IAAI,CAACY,MAAM,CAAC,CAAC,GAAGZ,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEP,QAAQ,CAACY,MAAM,CAAC,CAAC,CAAC,CAACQ,IAAI;;IAExF;IACA,IAAId,IAAI,CAACY,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE;MACvB,MAAMK,KAAK,GAAGf,QAAQ,CAACgB,KAAK,CAAC,GAAG,CAAC;MACjC,MAAMC,WAAW,GAAGnB,IAAI,CAACW,KAAK,CAACX,IAAI,CAACY,MAAM,CAAC,CAAC,GAAGK,KAAK,CAACX,MAAM,CAAC;MAC5DW,KAAK,CAACG,MAAM,CAACD,WAAW,EAAE,CAAC,EAAEN,QAAQ,CAAC;MACtC,OAAOI,KAAK,CAACI,IAAI,CAAC,GAAG,CAAC;IACxB;IAEA,OAAOnB,QAAQ;EACjB;EAEAM,gBAAgBA,CAACN,QAAQ,EAAEP,SAAS,EAAE;IACpC,IAAIA,SAAS,CAACW,MAAM,KAAK,CAAC,EAAE,OAAOJ,QAAQ;IAE3C,MAAMoB,SAAS,GAAG3B,SAAS,CAACK,IAAI,CAACW,KAAK,CAACX,IAAI,CAACY,MAAM,CAAC,CAAC,GAAGjB,SAAS,CAACW,MAAM,CAAC,CAAC,CAACiB,KAAK;;IAE/E;IACA,IAAIvB,IAAI,CAACY,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE;MACvB,OAAO,GAAGV,QAAQ,IAAIoB,SAAS,EAAE;IACnC;IAEA,OAAOpB,QAAQ;EACjB;EAEAO,eAAeA,CAACP,QAAQ,EAAEN,UAAU,EAAE;IACpC,IAAIA,UAAU,CAACU,MAAM,KAAK,CAAC,EAAE,OAAOJ,QAAQ;IAE5C,MAAMsB,SAAS,GAAG5B,UAAU,CAACI,IAAI,CAACW,KAAK,CAACX,IAAI,CAACY,MAAM,CAAC,CAAC,GAAGhB,UAAU,CAACU,MAAM,CAAC,CAAC;;IAE3E;IACA,IAAIN,IAAI,CAACY,MAAM,CAAC,CAAC,GAAG,IAAI,EAAE;MACxB,OAAO,GAAGV,QAAQ,IAAIsB,SAAS,EAAE;IACnC;IAEA,OAAOtB,QAAQ;EACjB;EAEAQ,iBAAiBA,CAACR,QAAQ,EAAEb,WAAW,EAAE;IACvC,MAAM;MAAEoC;IAAe,CAAC,GAAGpC,WAAW;IAEtC,IAAIoC,cAAc,CAACnB,MAAM,KAAK,CAAC,EAAE,OAAOJ,QAAQ;IAEhD,MAAMwB,SAAS,GAAGD,cAAc,CAAC,CAAC,CAAC,CAACE,WAAW;;IAE/C;IACA,IAAID,SAAS,KAAK,GAAG,IAAI,CAACxB,QAAQ,CAAC0B,QAAQ,CAAC,GAAG,CAAC,EAAE;MAChD1B,QAAQ,GAAGA,QAAQ,CAACa,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;IACzC,CAAC,MAAM,IAAIW,SAAS,KAAK,KAAK,IAAI,CAACxB,QAAQ,CAAC0B,QAAQ,CAAC,KAAK,CAAC,EAAE;MAC3D1B,QAAQ,GAAGA,QAAQ,CAACa,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;IAC3C;IAEA,OAAOb,QAAQ;EACjB;;EAEA;EACA2B,qBAAqBA,CAACxC,WAAW,EAAE;IACjC,MAAMyC,MAAM,GAAG,CACb,oDAAoD,EACpD,iCAAiC,EACjC,+BAA+B,EAC/B,4CAA4C,EAC5C,0CAA0C,EAC1C,4BAA4B,EAC5B,gCAAgC,EAChC,6BAA6B,EAC7B,0BAA0B,EAC1B,4CAA4C,CAC7C;IAED,IAAIC,KAAK,GAAGD,MAAM,CAAC9B,IAAI,CAACW,KAAK,CAACX,IAAI,CAACY,MAAM,CAAC,CAAC,GAAGkB,MAAM,CAACxB,MAAM,CAAC,CAAC;;IAE7D;IACA,IAAIjB,WAAW,CAACM,SAAS,CAACW,MAAM,GAAG,CAAC,EAAE;MACpC,MAAMgB,SAAS,GAAGjC,WAAW,CAACM,SAAS,CAAC,CAAC,CAAC,CAAC4B,KAAK;MAChDQ,KAAK,GAAG,GAAGA,KAAK,IAAIT,SAAS,EAAE;IACjC;IAEA,OAAOS,KAAK;EACd;;EAEA;EACAC,qBAAqBA,CAAC3C,WAAW,EAAE;IACjC,MAAM4C,cAAc,GAAG,CACrB,oBAAoB,EACpB,kCAAkC,EAClC,mBAAmB,EACnB,0BAA0B,EAC1B,mBAAmB,EACnB,qBAAqB,EACrB,kBAAkB,EAClB,aAAa,EACb,iBAAiB,EACjB,cAAc,CACf;IAED,OAAOA,cAAc,CAACjC,IAAI,CAACW,KAAK,CAACX,IAAI,CAACY,MAAM,CAAC,CAAC,GAAGqB,cAAc,CAAC3B,MAAM,CAAC,CAAC;EAC1E;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}